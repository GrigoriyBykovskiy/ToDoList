<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>list</title>
    </head>
        <body>
        <form id="list" onsubmit="return false">
            <fieldset>
                <legend>To do list</legend>
                <table id="output" width="100%">
                    <script>
                        function get_list(){
                            var request = new XMLHttpRequest();
                            request.open("GET","get_list.php");
                            request.onreadystatechange = function () {
                                if (request.readyState == 4 && request.status == 200)
                                    document.getElementById("output").innerHTML=request.responseText;
                            }
                            request.send();
                        }
                        get_list();
                    </script>
                </table>
                <table align="center">
                    <tr>
                        <td>
                            <p><input id="user_input_text" name="user_input_text" placeholder="message" maxlength="10" pattern="^[a-zA-Z]+$" required></p>
                        </td>
                        <td >
                            <button id="add_user_text" name="add_user_text" onclick="add_item()">add</button>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </form>
            <script>
                function add_item (){
                    var request = new XMLHttpRequest();
                    request.open("GET","add_to_list.php?item="+document.getElementById("user_input_text").value);
                    request.onreadystatechange = function () {
                        if (request.readyState == 4 && request.status == 200)
                            get_list();
                    }
                    request.send();
                }
                function delete_item(id){
                    var request = new XMLHttpRequest();
                    request.open("GET","delete_from_list.php?item="+id);
                    request.onreadystatechange = function () {
                        if (request.readyState == 4 && request.status == 200)
                            get_list();
                    }
                    request.send();
                }
            </script>
        </body>
</html>